package modulo.classificador.funcaomre;
import entidades.Historico;
import entidades.RespostaErrada;
import util.Constantes;
import entidades.FuncaoMRE;
import modulo.gerenciador.mre.GerenciadorMREControlador;


ruleBase ClassificadorFuncaoMREBaseRegras {
	
	//PAGINA 55 tese Maici
	
	rule papeisComplementares {
		declarations
			Historico h;
			RespostaErrada e;
			FuncaoMRE funcaoMRE;
		localdecl
		
		conditions
			e.getTipo() == Constantes.TIPO_ERRO_INTERPRETACAO_EQUIVOCADA;
		actions
			funcaoMRE.setTipo(Constantes.TIPO_FUNCAOMRE_PAPEIS_COMPLEMENTARES);
			modified(funcaoMRE);
			System.out.println("Função MRE: Papéis Complementares");

			retract(h);
			retract(e);
			retract(funcaoMRE);	
	}
	
	rule restricaoInterpretacao1 {
		declarations
			Historico h;
			RespostaErrada e;
			FuncaoMRE funcaoMRE;
		localdecl
		
		conditions		
			e.getTipo() == Constantes.TIPO_ERRO_DIRETAMENTE_IDENTIFICAVEL_DEFICIENCIA_DOMINIO;
		actions
			funcaoMRE.setTipo(Constantes.TIPO_FUNCAOMRE_RESTRICAO_INTERPRETACAO);
			modified(funcaoMRE);
			System.out.println("Função MRE: Restrição Interpretação");		
			retract(h);
			retract(e);
			retract(funcaoMRE);	
	}

	rule restricaoInterpretacao2 {
		declarations
			Historico h;
			RespostaErrada e;
			FuncaoMRE funcaoMRE;
		localdecl
		
		conditions		
			e.getTipo() == Constantes.TIPO_ERRO_INDIRETAMENTE_IDENTIFICAVEL;
		actions
			funcaoMRE.setTipo(Constantes.TIPO_FUNCAOMRE_RESTRICAO_INTERPRETACAO);
			modified(funcaoMRE);
			System.out.println("Função MRE: Restrição Interpretação");
			retract(h);
			retract(e);
			retract(funcaoMRE);	
	}
	
	rule compreensaoMaisAprofundada1 {
		declarations
			Historico h;
			RespostaErrada e;
			FuncaoMRE funcaoMRE;
		localdecl
		
		conditions
			e.getTipo() == Constantes.TIPO_ERRO_DIRETAMENTE_IDENTIFICAVEL_DEFICIENCIA_REGRA;
		actions
			funcaoMRE.setTipo(Constantes.TIPO_FUNCAOMRE_COMPREENSAO_MAIS_APROFUNDADA);
			modified(funcaoMRE);
			System.out.println("Função MRE: Compreensão Mais Aprofundada");
			retract(h);
			retract(e);
			retract(funcaoMRE);	
	}
	
	rule compreensaoMaisAprofundada2 {
		declarations
			Historico h;
			RespostaErrada e;
			FuncaoMRE funcaoMRE;
		localdecl
		
		conditions
			e.getTipo() == Constantes.TIPO_ERRO_DIRETAMENTE_IDENTIFICAVEL_DEFICIENCIA_ESCOLHA_OPERADOR;
		actions
			funcaoMRE.setTipo(Constantes.TIPO_FUNCAOMRE_COMPREENSAO_MAIS_APROFUNDADA);
			modified(funcaoMRE);
			System.out.println("Função MRE: Compreensão Mais Aprofundada");
			retract(h);
			retract(e);
			retract(funcaoMRE);	
	}
	
	rule compreensaoMaisAprofundada3 {
		declarations
			Historico h;
			RespostaErrada e;
			FuncaoMRE funcaoMRE;
		localdecl
		
		conditions
			e.getTipo() == Constantes.TIPO_ERRO_SOLUCAO_NAO_CATEGORIZAVEL;
		actions
			funcaoMRE.setTipo(Constantes.TIPO_FUNCAOMRE_COMPREENSAO_MAIS_APROFUNDADA);
			modified(funcaoMRE);
			System.out.println("Função MRE: Compreensão Mais Aprofundada");
			retract(h);
			retract(e);
			retract(funcaoMRE);	
	}
}
